---
sidebar: sidebar
permalink: smbc/index.html
keywords: SM-BC, SMBC, overview, benefits, use cases, architecture
summary: Beginning with ONTAP 9.8, you can use the SnapMirror Business Continuity (SM-BC) to protect applications with LUNs, enabling applications to fail over transparently, ensuring business continuity in case of a disaster.
---
= Overview
:hardbreaks:
:nofooter:
:icons: font
:linkattrs:
:imagesdir: ../media/

[.lead]
SnapMirror Business Continuity (SM-BC) enables business services to continue operating even through a complete site failure, supporting applications to fail over transparently using a secondary copy. Neither manual intervention nor additional scripting is required to trigger a failover with SM-BC. 

SM-BC is available beginning with ONTAP 9.8. SM-BC is supported on AFF clusters or All SAN Array (ASA) clusters, where the primary and secondary clusters can be either AFF or ASA. SM-BC protects applications with iSCSI or FCP LUNs.

== Benefits

SM-BC provides the following benefits:

* Continuous availability for business-critical applications
* Ability to host critical applications alternately from primary and secondary site
* Simplified application management using consistency groups for dependent write-order consistency
* The ability to test failover for each application
* Instantaneous creation of mirror clones without impacting application availability
* Beginning in ONTAP 9.11.1, SM-BC supports xref:../data-protection/restore-single-file-snapshot-task.html[single-file SnapRestore]. 
* You are entitled to use SM-BC if you have the data protection or one-time premium bundle on both the source and destination storage clusters.

== Use cases

=== Application deployment for zero recovery time object (RTO) or Transparent Application Failover

In an SM-BC deployment, you will have a source and destination cluster. A LUN in source (`1LP`) will have a mirror (`L1s`) on the destination; both LUNs share the same serial ID and are reported as read-write LUNs to the host. Read and write operations, however, are only serviced to the source LUN, `1LP`. Any writes to the mirror `L1S` are served by proxy. 

SM-BC offers transparent application failover (TAF), which is based on host multipath I/O (MPIO) software-based path failover to achieve non-disruptive access to the storage.

With TAF, 


Both LUN copies, for example, primary (L1P) and mirror copy (L1S), have the same identity (serial number) and are reported as read-writable to the host. However, reads and writes are serviced only by the primary volume. I/Os issued to the mirror copy are proxied to the primary copy. The host's preferred path to L1 is VS1:N1 based on Asymmetric Logical Unit Access (ALUA) access state Active Optimized (A/O). Mediator is recommended as part of the deployment, primarily to perform failover in case of a storage outage on the primary.

=== Disaster scenario

With SM-BC, you can synchronously replicate multiple volumes for an application (by adding them to a consistency group) between sites at geographically dispersed locations. And you can automatically failover to the secondary copy in case of disruption of the primary, thus, enabling business continuity for tier one applications

== Architecture

The following figure illustrates the operation of the SnapMirror Business Continuity feature at a high level.

image:workflow_san_snapmirror_business_continuity.png[SnapMirror Business Continuity workflow]

In section one of the diagram, an application is deployed on a SVM in the primary data center. The volumes that have been added to the primary consistency group are protected with SM-BC and are mirrored to destination consistency group at a secondary data center. The volumes in the primary consistency group will failover to the mirrored consistency group in the event of a disruption. Volumes not in a mirrored consistency group are not served. 

== Using SM-BC

You can manage SM-BC using the System Manager, the ONTAP CLI, and the ONTAP REST API. Beginning with ONTAP 9.10.1, ONTAP offers an xref:../consistency-groups/index.html[consistency group] management experience that help you manage your SM-BC consistency groups with the REST API or System Manager.

== Further information 

* link:https://www.netapp.com/pdf.html?item=/media/21888-tr-4878.pdf[TR-4878: SnapMirror Business Continuity^]

// ontapdoc-883, 7 march 2023
// 7 april 2022, BURT 1459617