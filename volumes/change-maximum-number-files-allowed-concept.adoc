---
permalink: volumes/change-maximum-number-files-allowed-concept.html
sidebar: sidebar
keywords: considerations, changing, maximum number of files, allowed, flexvol volume, maximum, files, file
summary: "FlexVol volumes have a maximum number of files that they can contain. You can change this maximum, but be aware of how this affects the volume."
---
= The default and maximum number of files allowed for FlexVol volumes in ONTAP
:icons: font
:imagesdir: ../media/

[.lead]
FlexVol volumes have a default and maximum number of files they can contain. If your data requires a large number of files, you can increase the number of user visible files allowed on a volume up to a maximum value. You should understand the limitations and caveats before proceeding.

The number of user visible files a volume can contain is determined by the available inode capacity for the volume. An inode is a data structure that contains information about files.

ONTAP automatically sets the default and maximum number of available inodes for a newly created volume as follows based on the size of the volume. 

[cols="2,2" options="header"]
|===
| Default number of inodes | Maximum number of inodes 
| 1 per 32 KB of volume size | 1 per 4 KB of volume size
|===

When the size of a volume is increased, either manually by an administrator or automatically by ONTAP's autosize feature, ONTAP also increases (if necessary) the number of available inodes so that there is at least 1 inode per 32 KB of volume size, until the volume reaches approximately 680 GB in size.

In ONTAP 9.12.1 and earlier, creating a new volume or resizing an existing volume greater than 680 GB in size does not automatically result in additional inode capacity. If you need more files than the default number for any size volume, you can use the `volume modify` command to increase the available number of inodes for the volume up to the maximum.

Beginning with ONTAP 9.13.1, creating a new volume or resizing an existing volume sets the default number of available inodes to 1 inode per 32 KB of volume space even if the volume is larger than 680 GB. This ratio persists until the volume reaches the absolute inode maximum of 2,040,109,451.

You can also decrease the available number of inodes. This does not change the amount of space allocated to inodes, but it does lower the maximum amount of space the public inode file can consume. After space has been allocated for inodes, it is never returned to the volume. Therefore, it is not possible to lower the maximum number of inodes below the number of inodes currently allocated.

.More information 
* xref:display-file-inode-usage-task.html[Determine file and inode usage for a volume]
* link:++https://kb.netapp.com/on-prem/ontap/Ontap_OS/OS-KBs/FAQ_-_ONTAP_default_and_maximum_number_of_files_(inodes)++[Knowledge Base article: FAQ - ONTAP default and maximum number of files (inodes)]


// 2025 Aug 12, ONTAPDOC-3084
// 2025 Jan 22, ONTAPDOC-1070
// 2025-Jan-21, issue# 1589
// 8-OCT-2021, ONTAP catalyst QA review
// 3 august 2023, BURT 1575111 + ONTAPDOC-1217
// ONTAPDOC-2119/GH-1818 2024-6-24
