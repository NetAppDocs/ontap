---
permalink: volumes/move-volume-task.html
sidebar: sidebar
keywords: move, volume
summary: "Move a FlexVol volume to a different aggregate, node, or both within the same storage virtual machine (SVM) to balance storage capacity."
---
= Move an ONTAP volume
:icons: font
:imagesdir: ../media/

[.lead]
You can move a FlexVol volume to a different aggregate, node, or both within the same storage virtual machine (SVM) to balance storage capacity after determining that there is a storage capacity imbalance.

.About this task

By default, if the cutover operation fails to complete within 30 seconds, it will retry. You can adjust the default behavior by using the `-cutover-window` and `-cutover-action` parameters, both of which require advanced privilege level access.

You must be a cluster administrator to perform this task. 

.Before you begin

* If you are performing a volume move operation from a platform that supports 8K adaptive compression to one of the following platforms, you should link:increase-volume-size.html[increase the size of the volume's active file system] before moving the volume. 

** AFF and FAS platforms that support CPU or dedicated offload processor storage efficiency 
+
Learn more about AFF and FAS platforms that support link:../concepts/builtin-storage-efficiency-concept.html[CPU or dedicated offload processor storage efficiency]. 
** AFF and ASA C-Series platforms
++
See the link:https://hwu.netapp.com/[Hardware Universe^] for a full list of C-series platforms.
+
Compression savings for platforms with 8k adaptive compression is realize at the volume level.  Compression savings for AFF and FAS platforms that support CPU or dedicated offload processors and for C-series platforms is realized at the aggregate level.  Because of this difference, the volume's active file system should be increased by the amount of expected 8k compression space savings to ensure that the volume does not run out of free space during the volume move.

* If you are moving a data protection mirror and you have not initialized the mirror relationship, use the `snapmirror initialize` command to initialize the mirror relationship. Learn more about `snapmirror initialize` in the link:https://docs.netapp.com/us-en/ontap-cli/snapmirror-initialize.html[ONTAP command reference^].
+
Data protection mirror relationships must be initialized before you can move one of the volumes.

.Steps

. Determine an aggregate to which you can move the volume:
+
[source,cli]
----
volume move target-aggr show
----
+
The aggregate that you select must have enough space for the volume; that is, the available size is bigger than the volume that you are moving.
+
The following example shows that the vs2 volume can be moved to any of the listed aggregates:
+
----
cluster1::> volume move target-aggr show -vserver vs2 -volume user_max
Aggregate Name   Available Size   Storage Type
--------------   --------------   ------------
aggr2            467.9GB          hdd
node12a_aggr3    10.34GB          hdd
node12a_aggr2    10.36GB          hdd
node12a_aggr1    10.36GB          hdd
node12a_aggr4    10.36GB          hdd
5 entries were displayed.
----
+
Learn more about `volume move target-aggr show` in the link:https://docs.netapp.com/us-en/ontap-cli/volume-move-target-aggr-show.html[ONTAP command reference^].

. Perform a validation check to verify that the volume can be moved to the intended aggregate: 
+
[source,cli]
----
volume move start -perform-validation-only
----
 +
 Learn more about `volume move start` in the link:https://docs.netapp.com/us-en/ontap-cli/volume-move-start.html[ONTAP command reference^].

. Move the volume:
+
[source,cli]
----
volume move start
----
+
The following command moves the user_max volume on the vs2 SVM to the node12a_aggr3 aggregate. The move runs as a background process.
+
----
cluster1::> volume move start -vserver vs2 -volume user_max
-destination-aggregate node12a_aggr3
----

. Determine the status of the volume move operation:
+
[source,cli]
----
volume move show
----
+
The following example shows the state of a volume move that completed the replication phase and is in the cutover phase:
+
----

cluster1::> volume move show
Vserver   Volume     State    Move Phase  Percent-Complete Time-To-Complete
--------- ---------- -------- ----------  ---------------- ----------------
vs2       user_max   healthy  cutover     -                -
----
+
The volume move is complete when it no longer appears in the `volume move show` command output.
+
Learn more about `volume move show` in the link:https://docs.netapp.com/us-en/ontap-cli/volume-move-show.html[ONTAP command reference^].

. Optionally, view compression savings:
+
[source,cli]
----
volume show-footprint -vserver <SVM> -volume <volume_name>
----
+
[NOTE]
Additional aggregate-level savings might be realized through a post-process conversion scan that runs automatically and shortly after the volume move is completed.

.Related information
* link:recommendations-moving-concept.html[Considerations and recommendations when moving volumes]


// 2025 Sept 25, Git Issue 1843
// 2025 Sept 25, GitIssue 1843
// 2025-Sept-12, ONTAPDOC-3298
// 2025 Apr 09, ONTAPDOC-2758