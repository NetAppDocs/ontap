---
permalink: mediator/install-mediator-pkg-task.html
sidebar: sidebar
keywords: mediator, new, release, update, install, package
summary: "To install ONTAP Mediator, you must get the installation package and run the installer on the host."
---
= Install the ONTAP Mediator installation package
:icons: font
:imagesdir: ../media/

[.lead]
To install ONTAP Mediator, you must get the installation package and run the installer on the host.

.Steps

. Run the installer and respond to the prompts as required: 
+
`./ontap-mediator-1.11.0/ontap-mediator-1.11.0 -y` 
+
----
[root@scs000099753 ~]# ./ontap-mediator-1.11.0/ontap-mediator-1.11.0 -y
----
+
NOTE: To skip signature check during installation, use this command: `./ontap-mediator-1.11.0/ontap-mediator-1.11.0 -y --skip-code-signature-check`

+
The installer creates the required accounts and installs the required packages. If the Mediator is already installed, it prompts you to upgrade.

.Example of ONTAP Mediator installation (console output)
[%collapsible]

====
----
[root@mediator_host ~]# tar -zxvf ontap-mediator-1.11.0.tgz
ontap-mediator-1.11.0/
ontap-mediator-1.11.0/csc-prod-chain-ONTAP-Mediator.pem
ontap-mediator-1.11.0/csc-prod-ONTAP-Mediator.pem
ontap-mediator-1.11.0/tsa-prod-ONTAP-Mediator.pem
ontap-mediator-1.11.0/tsa-prod-chain-ONTAP-Mediator.pem
ontap-mediator-1.11.0/ONTAP-Mediator-production.pub
ontap-mediator-1.11.0/ontap-mediator-1.11.0
ontap-mediator-1.11.0/ontap-mediator-1.11.0.sig.tsr
ontap-mediator-1.11.0/ontap-mediator-1.11.0.tsr
ontap-mediator-1.11.0/ontap-mediator-1.11.0.sig
[root@mediator_host ~]#./ontap-mediator-1.11.0/ontap-mediator-1.11.0

ONTAP Mediator: Self Extracting Installer

+ Extracting the ONTAP Mediator installation/upgrade archive
+ Performing the ONTAP Mediator run-time code signature check
   Using openssl from the path: /usr/bin/openssl configured for CApath:/etc/pki/tls
Error querying OCSP responder
80BBA032607F0000:error:1E800080:HTTP routines:OSSL_HTTP_REQ_CTX_nbio:failed reading data:crypto/http/http_client.c:549:
80BBA032607F0000:error:1E800067:HTTP routines:OSSL_HTTP_REQ_CTX_exchange:error receiving:crypto/http/http_client.c:901:server=http://ocsp.entrust.net:80
   WARNING: The OCSP check failed while attempting to test the Code-Signature-Check certificate
   Continue without code signature checking (only recommended if integrity has been established manually)? yes/no: yes
 SKIPPING: Code signature check, manual override due to lack of OCSP response
+ Unpacking the ONTAP Mediator installer

ONTAP Mediator requires two user accounts. One for the service (netapp), and one for use by ONTAP to the mediator API (mediatoradmin).
Would you like to use the default account names: netapp + mediatoradmin? (Y(es)/n(o)): yes



Enter ONTAP Mediator user account (mediatoradmin) password:

Re-Enter ONTAP Mediator user account (mediatoradmin) password:

+ Checking if SELinux is in enforcing mode
The installer will change the SELinux context type of
/opt/netapp/lib/ontap_mediator/pyenv/bin/uwsgi from type 'lib_t' to 'bin_t'.


+ Checking for default Linux firewall


+ Installing required packages.


Updating Subscription Management repositories.
Unable to read consumer identity

This system is not registered with an entitlement server. You can use "rhc" or "subscription-manager" to register.

Last metadata expiration check: 5 days, 14:34:13 ago on Thu 10 Jul 2025 01:28:32 AM EDT.
Package openssl-1:3.2.2-16.el10.x86_64 is already installed.
Package libselinux-utils-3.8-1.el10.x86_64 is already installed.
Package perl-Data-Dumper-2.189-512.el10.x86_64 is already installed.
Package bzip2-1.0.8-25.el10.x86_64 is already installed.
Package efibootmgr-18-8.el10.x86_64 is already installed.
Package mokutil-2:0.6.0-11.el10.x86_64 is already installed.
Package policycoreutils-python-utils-3.8-1.el10.noarch is already installed.
Package python3-3.12.9-1.el10.x86_64 is already installed.
Dependencies resolved.
==============================================================================================================================================================================================================================================
 Package                                                              Architecture                                    Version                                                        Repository                                          Size
==============================================================================================================================================================================================================================================
Installing:
 elfutils-libelf-devel                                                x86_64                                          0.192-5.el10                                                   AppStream                                           50 k
 gcc                                                                  x86_64                                          14.2.1-7.el10                                                  AppStream                                           37 M
 kernel-devel                                                         x86_64                                          6.12.0-55.9.1.el10_0                                           AppStream                                           22 M
 make                                                                 x86_64                                          1:4.4.1-9.el10                                                 BaseOS                                             591 k
 openssl-devel                                                        x86_64                                          1:3.2.2-16.el10                                                AppStream                                          3.9 M
 patch                                                                x86_64                                          2.7.6-26.el10                                                  AppStream                                          134 k
 perl-ExtUtils-MakeMaker                                              noarch                                          2:7.70-513.el10                                                AppStream                                           297 k
 python3-devel                                                        x86_64                                          3.12.9-1.el10                                                  AppStream        
 334 k
 python3-pip                                                          noarch                                          23.3.2-7.el10                                                  AppStream                                          3.2 M
Installing dependencies:
 annobin-docs                                                         noarch                                          12.92-1.el10                                                   AppStream                                           94 k
 annobin-plugin-gcc                                                   x86_64                                          12.92-1.el10                                                   AppStream                                          985 k
 bison                                                                x86_64                                          3.8.2-9.el10                                                   AppStream                                          1.0 M
 cmake-filesystem                                                     x86_64                                          3.30.5-2.el10                                                  AppStream                                           29 k
 cpp                                                                  x86_64                                          14.2.1-7.el10                                                  AppStream                                           12 M
 dwz                                                                  x86_64                                          0.15-7.el10                                                    AppStream                                          139 k
 efi-srpm-macros                                                      noarch                                          6-6.el10                                                       AppStream                                           25 k
 flex                                                                 x86_64                                          2.6.4-19.el10                                                  AppStream                                          303 k
 fonts-srpm-macros                                                    noarch                                          1:2.0.5-18.el10                                                AppStream                                           29 k
 forge-srpm-macros                                                    noarch                                          0.4.0-6.el10                                                   AppStream                                           23 k
 gcc-plugin-annobin                                                   x86_64                                          14.2.1-7.el10                                                  AppStream                                           62 k
 glibc-devel                                                          x86_64                                          2.39-37.el10                                                   AppStream                                          641 k
 go-srpm-macros                                                       noarch                                          3.6.0-4.el10                                                   AppStream                                           29 k
 kernel-headers                                                       x86_64                                          6.12.0-55.9.1.el10_0                                           AppStream                                          2.3 M
 kernel-srpm-macros                                                   noarch                                          1.0-25.el10                                                    AppStream                                           11 k
 libxcrypt-devel                                                      x86_64                                          4.4.36-10.el10                                                 AppStream                                           33 k
 libzstd-devel                                                        x86_64                                          1.5.5-9.el10                                                   AppStream        
  53 k
 lua-srpm-macros                                                      noarch                                          1-15.el10                                                      AppStream                                           10 k
 m4                                                                   x86_64                                          1.4.19-11.el10                                                 AppStream                                          309 k
 ocaml-srpm-macros                                                    noarch                                          10-4.el10                                                      AppStream                                           10 k
 openblas-srpm-macros                                                 noarch                                          2-19.el10                                                      AppStream                                          9.0 k
 package-notes-srpm-macros                                            noarch                                          0.5-13.el10                                                    AppStream                                           11 k
 perl-AutoSplit                                                       noarch                                          5.74-512.el10                                                  AppStream                                           23 k
 perl-Benchmark                                                       noarch                                          1.25-512.el10                                                  AppStream                                           28 k
 perl-CPAN-Meta-Requirements                                          noarch                                          2.143-11.el10                                                  AppStream                                           39 k
 perl-CPAN-Meta-YAML                                                  noarch                                          0.018-512.el10                                                 AppStream                                           29 k
 perl-Devel-PPPort                                                    x86_64                                          3.72-512.el10                                                  AppStream                                          223 k
 perl-ExtUtils-Command                                                noarch                                          2:7.70-513.el10                                                AppStream                                           16 k
 perl-ExtUtils-Constant                                               noarch                                          0.25-512.el10                                                  AppStream                                           47 k
 perl-ExtUtils-Install                                                noarch                                          2.22-511.el10                                                  AppStream                                           47 k
 perl-ExtUtils-Manifest                                               noarch                                          1:1.75-511.el10                                                AppStream                                           37 k
 perl-ExtUtils-ParseXS                                                noarch                                          1:3.51-512.el10                                                AppStream                                          190 k
 perl-File-Compare                                                    noarch                                          1.100.800-512.el10                                             AppStream                                           15 k
 perl-File-Copy                                                       noarch                                          2.41-512.el10                                                  AppStream                                           22 k
 perl-I18N-Langinfo                                                   x86_64                                          0.24-512.el10                                                  AppStream                                           28 k
 perl-JSON-PP                                                         noarch                                          1:4.16-512.el10                                                AppStream                                           69 k
 perl-Test-Harness                                                    noarch                                          1:3.48-512.el10                                                AppStream                                          288 k
 perl-lib                                                             x86_64                                          0.65-512.el10                                                  AppStream                                           16 k
 perl-srpm-macros                                                     noarch                                          1-57.el10                                                      AppStream                                          9.7 k
 perl-version                                                         x86_64                                          8:0.99.32-4.el10                                               AppStream                                           68 k
 pyproject-srpm-macros                                                noarch                                          1.16.2-1.el10                                                  AppStream                                           16 k
 python-srpm-macros                                                   noarch                                          3.12-9.1.el10                                                  AppStream                                           26 k
 python3-pyparsing                                                    noarch                                          3.1.1-7.el10                                                   BaseOS                                             273 k
 qt6-srpm-macros                                                      noarch                                          6.8.1-3.el10                                                   AppStream        
 11 k
 redhat-rpm-config                                                    noarch                                          288-1.el10                                                     AppStream                                           83 k
 rust-toolset-srpm-macros                                             noarch                                          1.84.1-1.el10                                                  AppStream                                           13 k
 systemtap-sdt-devel                                                  x86_64                                          5.2-2.el10                                                     AppStream                                           78 k
 systemtap-sdt-dtrace                                                 x86_64                                          5.2-2.el10                                                     AppStream                                           72 k
 zlib-ng-compat-devel                                                 x86_64                                          2.2.3-1.el10                                                   AppStream                                           41 k
Installing weak dependencies:
 perl-CPAN-Meta                                                       noarch                                          2.150010-511.el10                                              AppStream                                          202 k
 perl-Encode-Locale                                                   noarch                                          1.05-31.el10                                                   AppStream                                           21 k
 perl-Time-HiRes                                                      x86_64                                          4:1.9777-511.el10                                              AppStream                                           62 k
 perl-devel                                                           x86_64                                          4:5.40.1-512.el10                                              AppStream                                          772 k
 perl-doc                                                             noarch                                          5.40.1-512.el10                                                AppStream                                          4.9 M

Transaction Summary
==============================================================================================================================================================================================================================================
Install  63 Packages

Total size: 94 M
Installed size: 282 M
Downloading Packages:
BaseOS Packages Red Hat Enterprise Linux 10                                                                                                                                                                   439 kB/s | 3.7 kB     00:00
Importing GPG key 0xFD431D51:
 Userid     : "Red Hat, Inc. (release key 2) <security@redhat.com>"
 Fingerprint: 567E 347A D004 4ADE 55BA 8A5F 199E 2F91 FD43 1D51
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
Key imported successfully
Importing GPG key 0x5A6340B3:
 Userid     : "Red Hat, Inc. (auxiliary key 3) <security@redhat.com>"
  Fingerprint: 7E46 2425 8C40 6535 D56D 6F13 5054 E4A4 5A63 40B3
 From       : /etc/pki/rpm-gpg/RPM-GPG-KEY-redhat-release
Key imported successfully
Running transaction check
Transaction check succeeded.
Running transaction test
Transaction test succeeded.
Running transaction
  Preparing        :                                                                                                                                                                                                                      1/1
  Installing       : perl-version-8:0.99.32-4.el10.x86_64                                                                                                                                                                                1/63
  Installing       : perl-File-Copy-2.41-512.el10.noarch                                                                                                                                                                                 2/63
  Installing       : perl-CPAN-Meta-Requirements-2.143-11.el10.noarch                                                                                                                                                                    3/63
  Installing       : perl-Time-HiRes-4:1.9777-511.el10.x86_64                                                                                                                                                                            4/63
  Installing       : perl-JSON-PP-1:4.16-512.el10.noarch                                                                                                                                                                                 5/63
  Installing       : perl-File-Compare-1.100.800-512.el10.noarch                                                                                                                                                                         6/63
  Installing       : perl-ExtUtils-ParseXS-1:3.51-512.el10.noarch                                                                                                                                                                        7/63
  Installing       : m4-1.4.19-11.el10.x86_64                                                                                                                                                                                            8/63
  Installing       : make-1:4.4.1-9.el10.x86_64                                                                                                                                                                                          9/63
  Installing       : bison-3.8.2-9.el10.x86_64                                                                                                                                                                                          10/63
  Installing       : flex-2.6.4-19.el10.x86_64                                                                                                                                                                                          11/63
  Installing       : perl-ExtUtils-Command-2:7.70-513.el10.noarch                                                                                                                                                                       12/63
  Installing       : perl-ExtUtils-Manifest-1:1.75-511.el10.noarch                                                                                                                                                                      13/63
  Installing       : systemtap-sdt-devel-5.2-2.el10.x86_64                                                                                                                                                                              14/63
  Installing       : rust-toolset-srpm-macros-1.84.1-1.el10.noarch                                                                                                                                                                      15/63
  Installing       : qt6-srpm-macros-6.8.1-3.el10.noarch                                                                                                                                                                                16/63
  Installing       : python3-pip-23.3.2-7.el10.noarch                                                                                                                                                                                   17/63
  Installing       : pyproject-srpm-macros-1.16.2-1.el10.noarch                                                                                                                                                                         18/63
  Installing       : perl-srpm-macros-1-57.el10.noarch                                                                                                                                                                                  19/63
  Installing       : perl-lib-0.65-512.el10.x86_64                                                                                                                                                                                      20/63
  Installing       : perl-doc-5.40.1-512.el10.noarch                                                                                                                                                                                    21/63
  Installing       : perl-I18N-Langinfo-0.24-512.el10.x86_64                                                                                                                                                                            22/63
  Installing       : perl-Encode-Locale-1.05-31.el10.noarch                                                                                                                                                                             23/63
  Installing       : perl-ExtUtils-Constant-0.25-512.el10.noarch                                                                                                                                                                        24/63
  Installing       : perl-Devel-PPPort-3.72-512.el10.x86_64                                                                                                                                                                             25/63
  Installing       : perl-CPAN-Meta-YAML-0.018-512.el10.noarch                                                                                                                                                                          26/63
  Installing       : perl-CPAN-Meta-2.150010-511.el10.noarch                                                                                                                                                                            27/63
  Installing       : perl-Benchmark-1.25-512.el10.noarch                                                                                                                                                                                28/63
  Installing       : perl-Test-Harness-1:3.48-512.el10.noarch                                                                                                                                                                           29/63
  Installing       : perl-AutoSplit-5.74-512.el10.noarch                                                                                                                                                                                30/63
  Installing       : package-notes-srpm-macros-0.5-13.el10.noarch                                                                                                                                                                       31/63
  Installing       : openssl-devel-1:3.2.2-16.el10.x86_64                                                                                                                                                                               32/63
  Installing       : openblas-srpm-macros-2-19.el10.noarch                                                                                                                                                                              33/63
  Installing       : ocaml-srpm-macros-10-4.el10.noarch                                                                                                                                                                                 34/63
  Installing       : lua-srpm-macros-1-15.el10.noarch                                                                                                                                                                                   35/63
  Installing       : libzstd-devel-1.5.5-9.el10.x86_64                                                                                                                                                                                  36/63
  Installing       : kernel-srpm-macros-1.0-25.el10.noarch                                                                                                                                                                              37/63
  Installing       : kernel-headers-6.12.0-55.9.1.el10_0.x86_64                                                                                                                                                                         38/63
  Installing       : libxcrypt-devel-4.4.36-10.el10.x86_64                                                                                                                                                                              39/63
  Installing       : glibc-devel-2.39-37.el10.x86_64                                                                                                                                                                                    40/63
  Installing       : efi-srpm-macros-6-6.el10.noarch                                                                                                                                                                                    41/63
  Installing       : dwz-0.15-7.el10.x86_64                                                                                                                                                                                             42/63
  Installing       : cpp-14.2.1-7.el10.x86_64                                                                                                                                                                                           43/63
  Installing       : gcc-14.2.1-7.el10.x86_64                                                                                                                                                                                           44/63
  Installing       : gcc-plugin-annobin-14.2.1-7.el10.x86_64                                                                                                                                                                            45/63
  Installing       : cmake-filesystem-3.30.5-2.el10.x86_64                                                                                                                                                                              46/63
  Installing       : zlib-ng-compat-devel-2.2.3-1.el10.x86_64                                                                                                                                                                           47/63
  Installing       : elfutils-libelf-devel-0.192-5.el10.x86_64                                                                                                                                                                          48/63
  Installing       : annobin-docs-12.92-1.el10.noarch                                                                                                                                                                                   49/63
  Installing       : annobin-plugin-gcc-12.92-1.el10.x86_64                                                                                                                                                                             50/63
  Installing       : fonts-srpm-macros-1:2.0.5-18.el10.noarch                                                                                                                                                                           51/63
  Installing       : forge-srpm-macros-0.4.0-6.el10.noarch                                                                                                                                                                              52/63
  Installing       : go-srpm-macros-3.6.0-4.el10.noarch                                                                                                                                                                                 53/63
  Installing       : python-srpm-macros-3.12-9.1.el10.noarch                                                                                                                                                                            54/63
  Installing       : redhat-rpm-config-288-1.el10.noarch                                                                                                                                                                                55/63
  Running scriptlet: redhat-rpm-config-288-1.el10.noarch                                                                                                                                                                                55/63
  Installing       : python3-pyparsing-3.1.1-7.el10.noarch                                                                                                                                                                              56/63
  Installing       : systemtap-sdt-dtrace-5.2-2.el10.x86_64                                                                                                                                                                             57/63
  Installing       : perl-devel-4:5.40.1-512.el10.x86_64                                                                                                                                                                                58/63
  Installing       : perl-ExtUtils-Install-2.22-511.el10.noarch                                                                                                                                                                         59/63
  Installing       : perl-ExtUtils-MakeMaker-2:7.70-513.el10.noarch                                                                                                                                                                     60/63
  Installing       : kernel-devel-6.12.0-55.9.1.el10_0.x86_64                                                                                                                                                                           61/63
  Running scriptlet: kernel-devel-6.12.0-55.9.1.el10_0.x86_64                                                                                                                                                                           61/63
  Installing       : python3-devel-3.12.9-1.el10.x86_64                                                                                                                                                                                 62/63
  Installing       : patch-2.7.6-26.el10.x86_64                                                                                                                                                                                         63/63
  Running scriptlet: patch-2.7.6-26.el10.x86_64                                                                                                                                                                                         63/63
Installed products updated.

Installed:
  annobin-docs-12.92-1.el10.noarch              annobin-plugin-gcc-12.92-1.el10.x86_64            bison-3.8.2-9.el10.x86_64                   cmake-filesystem-3.30.5-2.el10.x86_64           cpp-14.2.1-7.el10.x86_64
  dwz-0.15-7.el10.x86_64                        efi-srpm-macros-6-6.el10.noarch                   elfutils-libelf-devel-0.192-5.el10.x86_64   flex-2.6.4-19.el10.x86_64                       fonts-srpm-macros-1:2.0.5-18.el10.noarch
  forge-srpm-macros-0.4.0-6.el10.noarch         gcc-14.2.1-7.el10.x86_64                          gcc-plugin-annobin-14.2.1-7.el10.x86_64     glibc-devel-2.39-37.el10.x86_64                 go-srpm-macros-3.6.0-4.el10.noarch
  kernel-devel-6.12.0-55.9.1.el10_0.x86_64      kernel-headers-6.12.0-55.9.1.el10_0.x86_64        kernel-srpm-macros-1.0-25.el10.noarch       libxcrypt-devel-4.4.36-10.el10.x86_64           libzstd-devel-1.5.5-9.el10.x86_64
  lua-srpm-macros-1-15.el10.noarch              m4-1.4.19-11.el10.x86_64                          make-1:4.4.1-9.el10.x86_64                  ocaml-srpm-macros-10-4.el10.noarch              openblas-srpm-macros-2-19.el10.noarch
  openssl-devel-1:3.2.2-16.el10.x86_64          package-notes-srpm-macros-0.5-13.el10.noarch      patch-2.7.6-26.el10.x86_64                  perl-AutoSplit-5.74-512.el10.noarch             perl-Benchmark-1.25-512.el10.noarch
  perl-CPAN-Meta-2.150010-511.el10.noarch       perl-CPAN-Meta-Requirements-2.143-11.el10.noarch  perl-CPAN-Meta-YAML-0.018-512.el10.noarch   perl-Devel-PPPort-3.72-512.el10.x86_64          perl-Encode-Locale-1.05-31.el10.noarch
  perl-ExtUtils-Command-2:7.70-513.el10.noarch  perl-ExtUtils-Constant-0.25-512.el10.noarch       perl-ExtUtils-Install-2.22-511.el10.noarch  perl-ExtUtils-MakeMaker-2:7.70-513.el10.noarch  perl-ExtUtils-Manifest-1:1.75-511.el10.noarch
  perl-ExtUtils-ParseXS-1:3.51-512.el10.noarch  perl-File-Compare-1.100.800-512.el10.noarch       perl-File-Copy-2.41-512.el10.noarch         perl-I18N-Langinfo-0.24-512.el10.x86_64         perl-JSON-PP-1:4.16-512.el10.noarch
  perl-Test-Harness-1:3.48-512.el10.noarch      perl-Time-HiRes-4:1.9777-511.el10.x86_64          perl-devel-4:5.40.1-512.el10.x86_64         perl-doc-5.40.1-512.el10.noarch                 perl-lib-0.65-512.el10.x86_64
  perl-srpm-macros-1-57.el10.noarch             perl-version-8:0.99.32-4.el10.x86_64              pyproject-srpm-macros-1.16.2-1.el10.noarch  python-srpm-macros-3.12-9.1.el10.noarch         python3-devel-3.12.9-1.el10.x86_64
  python3-pip-23.3.2-7.el10.noarch              python3-pyparsing-3.1.1-7.el10.noarch             qt6-srpm-macros-6.8.1-3.el10.noarch         redhat-rpm-config-288-1.el10.noarch             rust-toolset-srpm-macros-1.84.1-1.el10.noarch
  systemtap-sdt-devel-5.2-2.el10.x86_64         systemtap-sdt-dtrace-5.2-2.el10.x86_64            zlib-ng-compat-devel-2.2.3-1.el10.x86_64

Complete!
OS package installations finished
+ Installing ONTAP Mediator. (Log: /root/ontap_mediator.vdizgQ/ontap-mediator-1.11.0/ontap-mediator-1.11.0/install_20250715160240.log)
    This step takes several minutes. View progress in the log file.
    Sudoer config verified
    ONTAP Mediator rsyslog and logging rotation enabled
+ Install successful. (Moving log to /opt/netapp/lib/ontap_mediator/log/install_20250715160240.log)
+ WARNING: This system supports UEFI
           Secure Boot (SB) is currently disabled on this system.
           If SB is enabled in the future, SCST will not work unless the following action is taken:
           Using the keys in /opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys follow
           instructions in /opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys/README.module-signing
           to sign the SCST kernel module. Note that a reboot is needed.
     SCST does not start automatically when Secure Boot is enabled and not configured properly.

+ Note: ONTAP Mediator generated a self-signed server certificate for temporary use on
    this host. If the DNS name or IP address for the host is changed, the certificate
    will no longer be valid. The default certificates should be replaced with secure
    trusted certificates signed by a known certificate authority prior to use for production.
    For more information, see /opt/netapp/lib/ontap_mediator/README

+ Note: ONTAP Mediator uses a kernel module compiled specifically for the current
        OS. Using 'yum update' to upgrade the kernel might cause service interruption.
    For more information, see /opt/netapp/lib/ontap_mediator/README
root@mediator_host:~# systemctl status ontap_mediator
● ontap_mediator.service - ONTAP Mediator
     Loaded: loaded (/etc/systemd/system/ontap_mediator.service; enabled; preset: disabled)
     Active: active (running) since Tue 2025-07-15 16:07:29 EDT; 4min 9s ago
 Invocation: 395e9479487e4e308be2ae030c800c7f
    Process: 28745 ExecStartPre=/opt/netapp/lib/ontap_mediator/tools/otm_logs_fs.sh (code=exited, status=0/SUCCESS)
   Main PID: 28759 (python)
      Tasks: 1 (limit: 22990)
     Memory: 66.8M (peak: 68.8M)
        CPU: 2.865s
     CGroup: /system.slice/ontap_mediator.service
             └─28759 /opt/netapp/lib/ontap_mediator/pyenv/bin/python /opt/netapp/lib/ontap_mediator/ontap_mediator/server

Jul 15 16:07:29 mediator_host systemd[1]: Starting ontap_mediator.service - ONTAP Mediator...
Jul 15 16:07:29 mediator_host systemd[1]: Started ontap_mediator.service - ONTAP Mediator.
root@mediator_host:~# systemctl status mediator-scst
● mediator-scst.service
     Loaded: loaded (/etc/systemd/system/mediator-scst.service; enabled; preset: disabled)
     Active: active (running) since Tue 2025-07-15 16:07:29 EDT; 4min 15s ago
 Invocation: f1d3be6ca1f9492b943e61872676f384
    Process: 28653 ExecStart=/etc/init.d/scst start (code=exited, status=0/SUCCESS)
    Process: 28738 ExecStartPost=/usr/sbin/modprobe scst_vdisk (code=exited, status=0/SUCCESS)
   Main PID: 28696 (iscsi-scstd)
      Tasks: 1 (limit: 22990)
     Memory: 5.2M (peak: 35.2M)
        CPU: 547ms
     CGroup: /system.slice/mediator-scst.service
             └─28696 /usr/local/sbin/iscsi-scstd

Jul 15 16:07:28 mediator_host systemd[1]: Starting mediator-scst.service...
Jul 15 16:07:29 mediator_host iscsi-scstd[28694]: max_data_seg_len 1048576, max_queued_cmds 2048
Jul 15 16:07:29 mediator_host scst[28653]: Loading and configuring SCST
Jul 15 16:07:29 mediator_host systemd[1]: Started mediator-scst.service.
root@mediator_host:~#

----
====

== Register the security key for UEFI Secure Boot

Beginning with ONTAP Mediator 1.4, the Secure Boot mechanism is enabled on UEFI systems. When Secure Boot is enabled, you must take additional steps to register the security key after installation.

.Steps

. Follow the instructions in the README file to sign the SCST kernel module:
+
`/opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys/README.module-signing`

. Locate the required keys: 
+
`/opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys`

+
NOTE: After installation, the system output provides the README files and key location.

. Add the public key to the MOK list:
+
`mokutil --import /opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys/scst_module_key.der`
+
[NOTE]
====
You can leave the private key in its default location or move it to a secure location. You must keep the public key in its existing location so the Boot Manager can use it. For more information, see the README.module-signing file:

`[root@hostname ~]# ls /opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys/
README.module-signing  scst_module_key.der  scst_module_key.priv`
====

. Reboot the host and use your device's UEFI Boot Manager to approve the new MOK. You'll need the passphrase provided for the `mokutil` utility in link:index.html#install-ontap-mediator-when-uefi-secure-boot-is-enabled[the step where you check if UEFI Secure Boot is enabled on your system].

== Signing SCST kernel modules

After ONTAP Mediator is installed, if the systemctl status `mediator-scst` shows as failed (inactive), follow these steps to sign the SCST kernel module.

.Steps

. During the build process a public/private key pair is generated in the `/opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys/` directory, using the following command:
+ 
`[root@mediator-host ~]# ls /opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys/
README.module-signing  scst_module_key.der  scst_module_key.priv
[root@mediator-host ~]#`
 
. Start the process of importing the public key into the UEFI key repository by running the following commands:
+
`[root@mediator-host ~]# mokutil --import /opt/netapp/lib/ontap_mediator/ontap_mediator/SCST_mod_keys/scst_module_key.der
input password:
input password again:`
+
`[root@mediator-host ~]#`
 
. The mokutil software requests a temporary password to be used for this key during the import process. 

. Verify whether the import process has started with the `mokutil --list-new` and then reboot the system. The bootloader starts the EFI MOK manager.

. Use the menus on the screen to turn on the SCST kernel module key. After booting, run `systemctl status mediator-scst`. Once the service starts, the SCST kernel modules are signed.

// 2023 July 24, Public PR 1012
// 2021-04-21 ONTAPEX-133437
// 2021-05-05 review comment in IDR-67
// ontap-metrocluster issue #146, 7 march 2022
// 2022-04-28, BURT 1470656
// january 2022 ontap-metrocluster/issues/35
// 19 july 2022, ontap-issues-564
// April 22 2022, BURT 1470656
// ONTAPDOC-955, 2023 May 05
// ONTAPDOC-1689, 24 Feb 2024
//ontapdoc 1906, 06 june 2024
//ONTAPDOC-2073, 17 October 2024 
//ONTAPDOC-728, 14 February 2025
//ONTAPDOC-2926, 19 May 2025
//ONTAPDOC-3053, 9 Jun 2025
//ONTAPDOC-3089, 2 Jul 2025
//ONTAPDOC-3217, 2 Oct 2025
//ONTAPDOC-2683, 7 Oct 2025
//ONTAPDOC-2369, 7 Oct 2025