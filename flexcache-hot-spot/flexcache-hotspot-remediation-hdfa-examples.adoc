---
sidebar: sidebar
permalink: flexcache-hot-spot/flexcache-hotspot-remediation-hdfa-examples.html
keywords: tr, hotspot, hot-spot, flexcache, hdfa, compare, examples
summary: "Understand examples of how high-density FlexCache arrays can help remediate hotspotting."
---
= Comparing auto-provisioned ONTAP FlexCache with high-density FlexCache array (HDFA)

:icons: font
:imagesdir: ./media/

[.lead]
Your first design decision is to figure out FlexCache density. The following examples will be four-node clusters. Assume that the file count is evenly distributed amongst all the constituents in each HDF. Assume also an even distribution of frontend NAS connections across all nodes.

NOTE: HDFAs will be represented using the following syntax: `HDFs per HDFA x nodes per HDF x constituents per node per HDF`

== Example of an 2x2x2 HDFA configuration
<<Figure 2>> is a 2x2x2 HDFA configuration: two HDFs, each spanning two nodes, and each node containing two constituent volumes. In this example, each client has a 50% chance of having direct access to the hot file. Two of the four clients will still have east-west traffic. Importantly, there are now two HDFs, which means two distinct caches of the hot file. There are now two CPUs/volume affinities servicing access to the hot file.

image::FlexCache-Hotspot-HDFA-2x2x2.png[Figure 2: 2x2x2 HDFA]

== Example of an 4x1x4 HDFA
Figure 3 represents an optimal configuration. It is a 4x1x4 HDFA configuration: four HDFs, each contained to a single node, and each node containing four constituents. In this example, each client is guaranteed to have direct access to a cache of the hot file. Since there are four cached files on four different nodes, four different CPUs/volume affinities help service access to the hot file. Additionally, there is zero east-west traffic generated.

image::FlexCache-Hotspot-HDFA-4x1x4.png[Figure 3: 4x1x4 HDFA]

These examples aren't the only configurations you can use. The guiding design principle is to make as many HDFs as your space requirements and available resources allow. Once you have decided how dense you want to make your HDFs, you must make another design decision if you will be accessing the HDFs with NFS. 

.Related information
link:../flexcache-hotspot-remediation-intra-inter-svm-hdfa.html[Inter-SVM HDFAs and intra-SVM HDFAs]

// 25-3-5, ontapdoc-2852